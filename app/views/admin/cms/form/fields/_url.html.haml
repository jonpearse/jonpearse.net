:ruby

  # assign some defaults, and get some messaging
  options = { maxlength: nil }.merge( field )
  messages = form.object.get_messages_for( field[:field], %i{ blank too_long }).to_json

= field_wrapper( local_assigns ) do
  = label_element( local_assigns )

  = form.url_field( field[:field], class: "form__input #{field[:class]}", required: field[:required], maxlength: field[:maxlength], 'data-messages': messages )
