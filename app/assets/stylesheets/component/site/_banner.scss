/// ==========================================================================
/// #
/// # Site banner + navigation
/// #
/// ==========================================================================

/// ==========================================================================
/// # Banner
/// ==========================================================================
@critical {
  .banner {
    border-top: rem(10) solid var(--grey-5);
    border-bottom: rem(1) solid var(--smoke-2);
    background: var(--grey-0);

    a {
      --shadow: #{rem(4)};

      display: block;
      border: 0;
    }

    @include mq($until: small) {
      position: fixed;
      width: 100%;
      z-index: 100;

      + main { margin-top: rem(55 * 1.25); }
    }
  }

  .banner__inner {
    min-height: rem(58);
  }

  .banner__wordmark {
    line-height: 1;

    a {
      display: block;
      margin:  rem(-2) rem(-10) 0;
      padding: rem(5) rem(10);
    }

    svg {
      display: block;
      height: rem(21);
      width:  rem(134);
      fill: currentColor;
      transition: fill .15s;
    }
  }
}

/// ==========================================================================
/// # Site navigation
/// ==========================================================================
.nav {
  display: block;

  @include mq($until: small) { padding: rem(15) 0; }
}

.nav__list {
  @include mq($until: small) {
    position: fixed;

    top: 0;
    left: 100%;
    height: 100vh;
    width: 80vw;
    min-width: 200px;
    padding: #{dimension(padding) * 2} #{dimension(padding) / 2};

    border-top: rem(10) solid var(--grey-5);
    z-index: 100;
    box-shadow: rgba(0, 0, 0, 0) 0 0 0 1000px, rgba(0, 0, 0, .1) 0 0 0 0;
    background: var(--grey-1);

    transition: transform .5s, box-shadow .5s;

    .nav.js-open & {
      transform: translate(-100%);
      box-shadow: rgba(0, 0, 0, .5) 0 0 0 1000px, rgba(0, 0, 0, .1) 0 0 10px 5px;
    }
  }

  @include mq(small) { display: flex; }
}

/// Individual LIs
/// ==========================================================================
.nav__item {

  @include mq($until: small) {
    &:not(.-sm) { border-top: 1px solid var(--smoke-2); }
  }

  @include mq(small) {
    &.-sm { display: none; }

    &.-sm + & ~ & {
      position: relative;
    }

    &::before {
      position: absolute;
      top: 0;
      left: 0;
      bottom: rem(10);
      border-left: 1px solid var(--smoke-2);
      content: '';
    }
  }
}

/// The link itself
/// ==========================================================================
.nav__link {
  padding: rem(15);
  border:  0;

  @include mq($until: small) {
    &.-current { @include fwt(semi); }
  }

  @include mq(small) {
    position: relative;

    &::before {
      position: absolute;

      bottom: 100%;
      left: 0;
      width: 100%;
      height: rem(5);

      background: var(--grey-5);
      transition: transform .2s;

      content: '';
    }

    &:hover,
    &.-current {
      &::before { transform: translateY(100%); }
    }
  }
}

/// Toggle
/// ==========================================================================
.nav__toggle {
  position: fixed;
  display: block;

  top:    rem(27.5);
  right:  rem(15);
  height: rem(22);
  width:  rem(22);
  padding: rem(2);
  outline: 0;
  border:  0;

  background: transparent none;

  cursor: pointer;
  z-index: 101;

  span {
    &::before,
    &::after,
    & {
      display: block;
      height: rem(2);
      width: rem(18);
      background: var(--grey-4);
    }

    &::before,
    &::after {
      position: absolute;
      content: '';
    }

    &::before { transform: translateY( rem(-6) ); }
    &::after  { transform: translateY( rem(6) ); }
  }

  .nav.js-open & {
    span {
      background: transparent;

      &::before { transform: rotate( 45deg ); }
      &::after  { transform: rotate( -45deg ); }
    }
  }

  @include mq(small) { display: none; }
}
